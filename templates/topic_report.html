{% extends "layout.html" %}

{% block main %}
    <div class="container report-container my-5">
        <div class="text-center mb-4">
            <h2 class="display-6">Topic Report</h2>
            <p class="lead">{{ topic.title() }} - <span class="text-primary">{{ difficulty.capitalize() }}</span></p>
        </div>

        {% if avg_score is not none and highest_score is not none %}
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">Topic Performance</h5>
                    <hr>
                    <p class="card-text mb-2"><strong>Average Score:</strong> {{ avg_score }}</p>
                    <p class="card-text mb-4"><strong>Highest Score:</strong> {{ highest_score }}</p>
                    
                    {% if max_score_user %}
                        <h6 class="text-muted">Top Scorer(s):</h6>
                        <ul class="list-group list-group-flush">
                            {% for user in max_score_user %}
                                <li class="list-group-item">{{ user }}</li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <p class="text-warning">No users found for the highest score.</p>
                    {% endif %}
                </div>
            </div>
        {% else %}
            <div class="alert alert-danger mt-4" role="alert">
                No data available for this topic and difficulty combination.
            </div>
        {% endif %}
    </div>
{% endblock %}
